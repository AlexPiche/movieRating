    <!doctype>
    <html>
    <head>
    <script type="text/javascript">
    function getRating() {
        var param = document.getElementById("query").value;
        var total = contracts["Rating"].contract.avgRatings(param);
		var numberOfReviews = contracts["Rating"].contract.userRatings(param).length;
		document.getElementById("queryres").innerText = "avg rating = " + total/numberOfReviews;
    }

    function setRating() {
		var movieKey = document.getElementById("movieKey").value;
        var value = parseInt(document.getElementById("value").value);
        var res = contracts["Rating"].contract.setRating(movieKey, value);
    }
    </script>
    </head>
    <body bgcolor="#E6E6FA">
        <h1>Ratings</h1>
        <div>
            Store:
            <input type="string" id="movieKey">
            <input type="number" id="value">
            <button onclick="setRating()">Save</button>
        </div>
        <div>
            Query:
            <input type="string" id="query" onkeyup='getRating()'>
            <div id="queryres"></div>
        </div>
    </body>
    </html>